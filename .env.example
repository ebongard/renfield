# === Secrets ===
# Für Produktion: ./bin/generate-secrets.sh ausführen (Docker Compose Secrets)
# Für Entwicklung: Werte hier direkt setzen

# Datenbank
# POSTGRES_PASSWORD=changeme  (Produktion: secrets/postgres_password)

# Home Assistant
HOME_ASSISTANT_URL=http://homeassistant.local:8123
# HOME_ASSISTANT_TOKEN=your_token  (Produktion: secrets/home_assistant_token)

# n8n (Workflow Automation via MCP)
# N8N_MCP_ENABLED=false
# N8N_API_URL=http://n8n.local:5678       # n8n-mcp package (czlonkowski)
# N8N_API_KEY=your_n8n_api_key            # n8n → Settings → API → Create API Key

# Frigate (Kamera-System)
FRIGATE_URL=http://frigate.local:5000

# Ollama LLM
# URL zur Ollama-Instanz (Standard: http://ollama:11434 für Docker-Container)
# Für externe Instanz z.B.: http://cuda.local:11434
OLLAMA_URL=http://ollama:11434

# Multi-Modell Konfiguration
OLLAMA_CHAT_MODEL=llama3.2:3b      # Für normale Konversation
OLLAMA_RAG_MODEL=llama3.1:8b       # Für RAG-Antworten (größeres Modell = bessere Ergebnisse)
OLLAMA_EMBED_MODEL=nomic-embed-text # Für Embeddings (768 Dimensionen)
OLLAMA_INTENT_MODEL=llama3.2:3b    # Für Intent-Erkennung

# Legacy (wird als OLLAMA_CHAT_MODEL verwendet falls gesetzt)
OLLAMA_MODEL=llama3.2:3b

# Sprache
DEFAULT_LANGUAGE=de
WHISPER_MODEL=base
PIPER_VOICE=de_DE-thorsten-high

# Optional: OpenAI API für Fallback (falls offline nicht ausreicht)
# OPENAI_API_KEY=sk-...

# RAG (Retrieval-Augmented Generation)
RAG_ENABLED=true
RAG_CHUNK_SIZE=512              # Token-Limit pro Chunk
RAG_CHUNK_OVERLAP=50            # Überlappung zwischen Chunks
RAG_TOP_K=5                     # Anzahl der relevantesten Chunks pro Anfrage
RAG_SIMILARITY_THRESHOLD=0.7    # Minimum Similarity (0-1)

# Document Upload
UPLOAD_DIR=/app/data/uploads
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,docx,doc,txt,md,html,pptx,xlsx

# Agent Loop (ReAct — Multi-Step Tool Chaining)
AGENT_ENABLED=false
# AGENT_MAX_STEPS=5
# AGENT_STEP_TIMEOUT=30.0
# AGENT_TOTAL_TIMEOUT=120.0
# AGENT_MODEL=                       # Optional: eigenes Modell für Agent

# MCP Client (Model Context Protocol — externe Tool-Server)
MCP_ENABLED=false
# MCP_CONFIG_PATH=config/mcp_servers.yaml
# MCP_REFRESH_INTERVAL=60
# MCP_CONNECT_TIMEOUT=10.0
# MCP_CALL_TIMEOUT=30.0

# MCP Server-spezifische Variablen (Beispiele)
# HA_MCP_ENABLED=false
# HA_MCP_URL=http://homeassistant.local:8123/api/mcp

# Proaktive Benachrichtigungen (Webhooks von HA-Automationen)
# PROACTIVE_ENABLED=false              # Master-Switch (opt-in)
# PROACTIVE_SUPPRESSION_WINDOW=60      # Dedup-Fenster in Sekunden
# PROACTIVE_TTS_DEFAULT=true           # TTS standardmäßig an
# PROACTIVE_NOTIFICATION_TTL=86400     # Ablauf in Sekunden (24h)

# Monitoring
# METRICS_ENABLED=false                # Prometheus /metrics Endpoint (opt-in)

# Logging
LOG_LEVEL=INFO
