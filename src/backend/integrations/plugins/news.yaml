name: news
version: 1.0.0
description: Get news headlines and articles from NewsAPI
author: Renfield Team
enabled_var: NEWS_PLUGIN_ENABLED

config:
  url: NEWSAPI_URL
  api_key: NEWSAPI_KEY

intents:
  - name: news.get_headlines
    description: Get top news headlines by category and country
    parameters:
      - name: category
        type: string
        required: false
        enum: [general, business, technology, sports, entertainment, health, science]
        default: general
        description: News category
      - name: country
        type: string
        required: false
        default: de
        description: Country code (e.g., de, us, gb)
      - name: limit
        type: integer
        required: false
        default: 5
        description: Number of articles to return (1-10)
    examples:
      - "Zeige mir die Nachrichten"
      - "Was gibt es Neues?"
      - "Aktuelle Schlagzeilen"
      - "Nachrichten aus der Technik"
      - "Sport Nachrichten"
    api:
      method: GET
      url: "{config.url}/top-headlines?country={params.country}&category={params.category}&pageSize={params.limit}&apiKey={config.api_key}"
      timeout: 15
      response_mapping:
        status: "status"
        total_results: "totalResults"
        articles: "articles"

  - name: news.search
    description: Search news articles by keyword
    parameters:
      - name: query
        type: string
        required: true
        description: Search keyword or phrase
      - name: language
        type: string
        required: false
        default: de
        description: Language code (e.g., de, en)
      - name: limit
        type: integer
        required: false
        default: 5
        description: Number of articles to return (1-10)
      - name: sort_by
        type: string
        required: false
        enum: [relevancy, popularity, publishedAt]
        default: publishedAt
        description: Sort order
    examples:
      - "Suche Nachrichten über Tesla"
      - "Artikel über Künstliche Intelligenz"
      - "Nachrichten zu Bitcoin"
      - "Was gibt es Neues über SpaceX?"
    api:
      method: GET
      url: "{config.url}/everything?q={params.query}&language={params.language}&pageSize={params.limit}&sortBy={params.sort_by}&apiKey={config.api_key}"
      timeout: 15
      response_mapping:
        status: "status"
        total_results: "totalResults"
        articles: "articles"

error_mappings:
  - code: 401
    message: "News API-Schlüssel ungültig. Bitte NEWSAPI_KEY überprüfen."
  - code: 429
    message: "Rate limit erreicht. Bitte später erneut versuchen."
  - code: 426
    message: "API-Upgrade erforderlich. Kostenloser Tier erreicht Limit."
  - code: 500
    message: "News-Service vorübergehend nicht verfügbar."

rate_limit: 100
