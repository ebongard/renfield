name: search
version: 2.0.0
description: Web search using SearXNG metasearch engine
author: Renfield Team
enabled_var: SEARCH_PLUGIN_ENABLED

config:
  url: SEARXNG_API_URL

intents:
  - name: search.web
    description: Search the web for information using SearXNG
    parameters:
      - name: query
        type: string
        required: true
        description: Search query
      - name: categories
        type: string
        required: false
        default: general
        description: Search categories (general, images, videos, news, etc.)
      - name: language
        type: string
        required: false
        default: de
        description: Language filter (de, en, etc.)
    examples:
      - "Suche nach Python Tutorials"
      - "Was ist Quantencomputing?"
      - "Wie funktioniert Photosynthese?"
      - "Wer hat die Relativitätstheorie entwickelt?"
      - "Suche Informationen über den Mars"
    api:
      method: GET
      url: "{config.url}/search?q={params.query}&format=json&categories={params.categories}&language={params.language}"
      timeout: 15
      response_mapping:
        query: "query"
        number_of_results: "number_of_results"
        results: "results"

  - name: search.instant_answer
    description: Get quick answers and search results for factual questions
    parameters:
      - name: query
        type: string
        required: true
        description: Question or search term
      - name: language
        type: string
        required: false
        default: de
        description: Language filter
    examples:
      - "Wie alt ist die Erde?"
      - "Hauptstadt von Frankreich"
      - "Wann wurde Einstein geboren?"
      - "Was ist die Lichtgeschwindigkeit?"
    api:
      method: GET
      url: "{config.url}/search?q={params.query}&format=json&language={params.language}"
      timeout: 15
      response_mapping:
        query: "query"
        number_of_results: "number_of_results"
        results: "results"
        answers: "answers"
        infoboxes: "infoboxes"

error_mappings:
  - code: 403
    message: "Zugriff auf SearXNG-Instanz verweigert."
  - code: 404
    message: "SearXNG-Instanz nicht erreichbar. Bitte URL überprüfen."
  - code: 500
    message: "SearXNG-Server-Fehler. Bitte später erneut versuchen."
  - code: 503
    message: "SearXNG vorübergehend nicht verfügbar."

rate_limit: 120
